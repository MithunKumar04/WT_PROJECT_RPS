{"ast":null,"code":"import _taggedTemplateLiteral from \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\src\\\\pages\\\\Chat.jsx\",\n    _templateObject,\n    _templateObject2;\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { io } from \"socket.io-client\";\nimport styled from \"styled-components\";\nimport { allUsersRoute, host } from \"../utils/APIRoutes\";\nimport ChatContainer from \"../components/ChatContainer\";\nimport Contacts from \"../components/Contacts\";\nimport Welcome from \"../components/Welcome\";\nimport Page1 from \"./page1\";\nimport Page2 from \"./page2\";\nimport Page3 from \"./page3\";\nexport default function Chat() {\n  var navigate = useNavigate();\n  var socket = useRef();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      contacts = _useState2[0],\n      setContacts = _useState2[1];\n\n  var _useState3 = useState(undefined),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentChat = _useState4[0],\n      setCurrentChat = _useState4[1];\n\n  var _useState5 = useState(undefined),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentUser = _useState6[0],\n      setCurrentUser = _useState6[1];\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {\n            _context.next = 4;\n            break;\n          }\n\n          navigate(\"/login\");\n          _context.next = 9;\n          break;\n\n        case 4:\n          _context.t0 = setCurrentUser;\n          _context.next = 7;\n          return JSON.parse(localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY));\n\n        case 7:\n          _context.t1 = _context.sent;\n          (0, _context.t0)(_context.t1);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  })), []);\n  useEffect(function () {\n    if (currentUser) {\n      socket.current = io(host);\n      socket.current.emit(\"add-user\", currentUser._id);\n    }\n  }, [currentUser]);\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (!currentUser) {\n            _context2.next = 9;\n            break;\n          }\n\n          if (!currentUser.isAvatarImageSet) {\n            _context2.next = 8;\n            break;\n          }\n\n          _context2.next = 4;\n          return axios.get(\"\".concat(allUsersRoute, \"/\").concat(currentUser._id));\n\n        case 4:\n          data = _context2.sent;\n          setContacts(data.data);\n          _context2.next = 9;\n          break;\n\n        case 8:\n          navigate(\"/setAvatar\");\n\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  })), [currentUser]);\n\n  var handleChatChange = function handleChatChange(chat) {\n    setCurrentChat(chat);\n  };\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentPage = _useState8[0],\n      setCurrentPage = _useState8[1];\n\n  var nextPage = function nextPage(page) {\n    switch (page) {\n      case 1:\n        setCurrentPage('/Page1');\n        break;\n\n      case 2:\n        setCurrentPage('/Page2');\n        break;\n\n      case 3:\n        setCurrentPage('/Page3');\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  useEffect(function () {\n    if (currentPage) {\n      window.location.href = currentPage;\n    }\n  }, [currentPage]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'White'\n    },\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 54\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 59\n    }\n  }, \"Welcome to Realtime Price Streamer\")), /*#__PURE__*/React.createElement(Container1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"100px\",\n      width: \"100px\"\n    },\n    className: \"button\",\n    onClick: function onClick() {\n      return nextPage(1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 132\n    }\n  }, \"Petrol Price\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"100px\",\n      width: \"100px\"\n    },\n    className: \"button\",\n    onClick: function onClick() {\n      return nextPage(2);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 98\n    }\n  }, \"Diesel Price\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"100px\",\n      width: \"100px\"\n    },\n    className: \"button\",\n    onClick: function onClick() {\n      return nextPage(3);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 98\n    }\n  }, \"Oil Price\")))))));\n}\nvar Container = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"height: 100vh;width: 100vw;display: flex;flex-direction: column;justify-content: center;gap: 1rem;align-items: center;background-color: #131324;\"])));\nvar Container1 = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"height: 90vh;width: 100vw;display: flex;flex-direction: row;justify-content: center;gap: 1rem;align-items: center;background-color: #131324;color: white;\"])));","map":{"version":3,"sources":["D:/react main/chat-genius-React-main/public/src/pages/Chat.jsx"],"names":["React","useEffect","useState","useRef","axios","useNavigate","io","styled","allUsersRoute","host","ChatContainer","Contacts","Welcome","Page1","Page2","Page3","Chat","navigate","socket","contacts","setContacts","undefined","currentChat","setCurrentChat","currentUser","setCurrentUser","localStorage","getItem","process","env","REACT_APP_LOCALHOST_KEY","JSON","parse","current","emit","_id","isAvatarImageSet","get","data","handleChatChange","chat","currentPage","setCurrentPage","nextPage","page","window","location","href","color","height","width","Container","div","Container1"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { io } from \"socket.io-client\";\nimport styled from \"styled-components\";\nimport { allUsersRoute, host } from \"../utils/APIRoutes\";\nimport ChatContainer from \"../components/ChatContainer\";\nimport Contacts from \"../components/Contacts\";\nimport Welcome from \"../components/Welcome\";\nimport Page1 from \"./page1\"\nimport Page2 from \"./page2\"\nimport Page3 from \"./page3\"\nexport default function Chat() {const navigate = useNavigate();const socket = useRef();const [contacts, setContacts] = useState([]);const [currentChat, setCurrentChat] = useState(undefined);const [currentUser, setCurrentUser] = useState(undefined);\n  useEffect(async () => {if (!localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {navigate(\"/login\");}\n   else {setCurrentUser(await JSON.parse(localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)));}}, []);\n  useEffect(() => {if (currentUser) {socket.current = io(host);socket.current.emit(\"add-user\", currentUser._id);}}, [currentUser]);\n  useEffect(async () => {if (currentUser) {\n    if (currentUser.isAvatarImageSet) {const data = await axios.get(`${allUsersRoute}/${currentUser._id}`);setContacts(data.data);}\n    else {navigate(\"/setAvatar\");}}}, [currentUser]);\n  const handleChatChange = (chat) => {setCurrentChat(chat);};\n  const [currentPage, setCurrentPage] = useState(null);\n  const nextPage = (page) => {switch (page) {\n      case 1:setCurrentPage('/Page1');break;\n      case 2:setCurrentPage('/Page2');break;\n      case 3:setCurrentPage('/Page3');break;\n      default:break;}};\n  useEffect(() => { if (currentPage) {window.location.href = currentPage;}}, [currentPage]);\n  return (\n    <>\n      <Container>\n      <div style={{ color: 'White' }} display=\"flex\"><div><h1>Welcome to Realtime Price Streamer</h1></div>\n      <Container1>\n      <div className=\"button-container\"><div style={{height:\"100px\",width:\"100px\"}} className=\"button\" onClick={() => nextPage(1)}><span>Petrol Price</span></div>\n      <div style={{height:\"100px\",width:\"100px\"}} className=\"button\" onClick={() => nextPage(2)}><span>Diesel Price</span></div>\n      <div style={{height:\"100px\",width:\"100px\"}} className=\"button\" onClick={() => nextPage(3)}><span>Oil Price</span></div></div>\n      </Container1></div>\n      </Container>\n    </>\n  );\n}\nconst Container = styled.div`height: 100vh;width: 100vw;display: flex;flex-direction: column;justify-content: center;gap: 1rem;align-items: center;background-color: #131324;`;\nconst Container1 = styled.div`height: 90vh;width: 100vw;display: flex;flex-direction: row;justify-content: center;gap: 1rem;align-items: center;background-color: #131324;color: white;`;\n"]},"metadata":{},"sourceType":"module"}