{"ast":null,"code":"import _taggedTemplateLiteral from \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\react main\\\\chat-genius-React-main\\\\public\\\\src\\\\pages\\\\Chat.jsx\",\n    _templateObject;\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { io } from \"socket.io-client\";\nimport styled from \"styled-components\";\nimport { allUsersRoute, host } from \"../utils/APIRoutes\";\nimport ChatContainer from \"../components/ChatContainer\";\nimport Contacts from \"../components/Contacts\";\nimport Welcome from \"../components/Welcome\";\nimport Page1 from \"./page1\";\nimport Page2 from \"./page2\";\nimport Page3 from \"./page3\";\nexport default function Chat() {\n  var navigate = useNavigate();\n  var socket = useRef();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      contacts = _useState2[0],\n      setContacts = _useState2[1];\n\n  var _useState3 = useState(undefined),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentChat = _useState4[0],\n      setCurrentChat = _useState4[1];\n\n  var _useState5 = useState(undefined),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentUser = _useState6[0],\n      setCurrentUser = _useState6[1];\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {\n            _context.next = 4;\n            break;\n          }\n\n          navigate(\"/login\");\n          _context.next = 9;\n          break;\n\n        case 4:\n          _context.t0 = setCurrentUser;\n          _context.next = 7;\n          return JSON.parse(localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY));\n\n        case 7:\n          _context.t1 = _context.sent;\n          (0, _context.t0)(_context.t1);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  })), []);\n  useEffect(function () {\n    if (currentUser) {\n      socket.current = io(host);\n      socket.current.emit(\"add-user\", currentUser._id);\n    }\n  }, [currentUser]);\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (!currentUser) {\n            _context2.next = 9;\n            break;\n          }\n\n          if (!currentUser.isAvatarImageSet) {\n            _context2.next = 8;\n            break;\n          }\n\n          _context2.next = 4;\n          return axios.get(\"\".concat(allUsersRoute, \"/\").concat(currentUser._id));\n\n        case 4:\n          data = _context2.sent;\n          setContacts(data.data);\n          _context2.next = 9;\n          break;\n\n        case 8:\n          navigate(\"/setAvatar\");\n\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  })), [currentUser]);\n\n  var handleChatChange = function handleChatChange(chat) {\n    setCurrentChat(chat);\n  };\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentPage = _useState8[0],\n      setCurrentPage = _useState8[1];\n\n  var nextPage = function nextPage(page) {\n    switch (page) {\n      case 1:\n        setCurrentPage('/page1');\n        break;\n\n      case 2:\n        setCurrentPage('/page2');\n        break;\n\n      case 3:\n        setCurrentPage('/page3');\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  useEffect(function () {\n    if (currentPage) {\n      window.location.href = currentPage;\n    }\n  }, [currentPage]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Home Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button\",\n    onClick: function onClick() {\n      return nextPage(1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Button 1\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button\",\n    onClick: function onClick() {\n      return nextPage(2);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, \"Button 2\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button\",\n    onClick: function onClick() {\n      return nextPage(3);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Button 3\"))))));\n}\nvar Container = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  height: 100vh;\\n  width: 100vw;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  gap: 1rem;\\n  align-items: center;\\n  background-color: #131324;\\n  .container {\\n    height: 85vh;\\n    width: 85vw;\\n    background-color: #00000076;\\n    display: grid;\\n    grid-template-columns: 25% 75%;\\n    @media screen and (min-width: 720px) and (max-width: 1080px) {\\n      grid-template-columns: 35% 65%;\\n    }\\n  }\\n\"])));","map":{"version":3,"sources":["D:/react main/chat-genius-React-main/public/src/pages/Chat.jsx"],"names":["React","useEffect","useState","useRef","axios","useNavigate","io","styled","allUsersRoute","host","ChatContainer","Contacts","Welcome","Page1","Page2","Page3","Chat","navigate","socket","contacts","setContacts","undefined","currentChat","setCurrentChat","currentUser","setCurrentUser","localStorage","getItem","process","env","REACT_APP_LOCALHOST_KEY","JSON","parse","current","emit","_id","isAvatarImageSet","get","data","handleChatChange","chat","currentPage","setCurrentPage","nextPage","page","window","location","href","Container","div"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { io } from \"socket.io-client\";\nimport styled from \"styled-components\";\nimport { allUsersRoute, host } from \"../utils/APIRoutes\";\nimport ChatContainer from \"../components/ChatContainer\";\nimport Contacts from \"../components/Contacts\";\nimport Welcome from \"../components/Welcome\";\nimport Page1 from \"./page1\"\nimport Page2 from \"./page2\"\nimport Page3 from \"./page3\"\n\nexport default function Chat() {\n  const navigate = useNavigate();\n  const socket = useRef();\n  const [contacts, setContacts] = useState([]);\n  const [currentChat, setCurrentChat] = useState(undefined);\n  const [currentUser, setCurrentUser] = useState(undefined);\n  useEffect(async () => {\n    if (!localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {\n      navigate(\"/login\");\n    } else {\n      setCurrentUser(\n        await JSON.parse(\n          localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)\n        )\n      );\n    }\n  }, []);\n  useEffect(() => {\n    if (currentUser) {\n      socket.current = io(host);\n      socket.current.emit(\"add-user\", currentUser._id);\n    }\n  }, [currentUser]);\n\n  useEffect(async () => {\n    if (currentUser) {\n      if (currentUser.isAvatarImageSet) {\n        const data = await axios.get(`${allUsersRoute}/${currentUser._id}`);\n        setContacts(data.data);\n      } else {\n        navigate(\"/setAvatar\");\n      }\n    }\n  }, [currentUser]);\n  const handleChatChange = (chat) => {\n    setCurrentChat(chat);\n  };\n  const [currentPage, setCurrentPage] = useState(null);\n\n  const nextPage = (page) => {\n    switch (page) {\n      case 1:\n        setCurrentPage('/page1');\n        break;\n      case 2:\n        setCurrentPage('/page2');\n        break;\n      case 3:\n        setCurrentPage('/page3');\n        break;\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    if (currentPage) {\n      window.location.href = currentPage;\n    }\n  }, [currentPage]);\n  return (\n    <>\n      <Container>\n      <div>\n      <h1>Home Page</h1>\n      <div className=\"button-container\">\n        <div className=\"button\" onClick={() => nextPage(1)}>\n          <span>Button 1</span>\n        </div>\n        <div className=\"button\" onClick={() => nextPage(2)}>\n          <span>Button 2</span>\n        </div>\n        <div className=\"button\" onClick={() => nextPage(3)}>\n          <span>Button 3</span>\n        </div>\n      </div>\n    </div>\n      </Container>\n    </>\n  );\n}\n\nconst Container = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 1rem;\n  align-items: center;\n  background-color: #131324;\n  .container {\n    height: 85vh;\n    width: 85vw;\n    background-color: #00000076;\n    display: grid;\n    grid-template-columns: 25% 75%;\n    @media screen and (min-width: 720px) and (max-width: 1080px) {\n      grid-template-columns: 35% 65%;\n    }\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}